"use strict";(self["webpackChunkhonda_booking_online"]=self["webpackChunkhonda_booking_online"]||[]).push([[372],{372:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var s=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("v-app",[s("v-app-bar",{attrs:{app:"",height:"80"}},[s("v-toolbar-title",[s("img",{staticClass:"mt-2 hidden-sm-and-down",attrs:{src:t(8294),height:"50px",contain:""}}),s("img",{staticClass:"mt-1 hidden-md-and-up",attrs:{src:t(8294),height:"20px",contain:""}})]),s("v-toolbar-title",{staticClass:"ml-4 hidden-sm-and-down"},[e._v("Booking Service")]),s("v-toolbar-title",{staticClass:"ml-5 hidden-md-and-up"},[e._v("Booking Service")]),s("v-spacer"),s("v-toolbar-title",[e._v("Welcome ")])],1),s("v-container",{staticClass:"custom-container",attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{flex:"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm6:"","elevation-6":""}},[s("v-card",[s("v-toolbar",{attrs:{color:"secondary",dark:""}},[s("h2",[e._v("Login")])]),s("v-form",{ref:"form",staticClass:"mx-5 my-5",model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[s("v-text-field",{attrs:{rules:e.emailRules,label:"Email",hint:"username@email.com","prepend-inner-icon":"mdi-account",outlined:"",required:""},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}}),s("v-text-field",{attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",type:e.show3?"text":"password",rules:e.passwordRules,label:"Password","prepend-inner-icon":"mdi-lock",outlined:"",required:""},on:{"click:append":function(a){e.show3=!e.show3}},model:{value:e.form.password,callback:function(a){e.$set(e.form,"password",a)},expression:"form.password"}}),s("v-autocomplete",{attrs:{rules:e.dealerRules,"prepend-inner-icon":"mdi-map-marker",label:"Dealer",outlined:"",items:e.dealer,"item-text":"nama_dealer","item-value":"id_dealer"},model:{value:e.form.id_dealer,callback:function(a){e.$set(e.form,"id_dealer",a)},expression:"form.id_dealer"}})],1),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.login}},[e._v("Login")]),s("v-btn",{attrs:{text:""},on:{click:e.resetForm}},[e._v("Batal")])],1)],1)],1)],1)],1),s("v-snackbar",{attrs:{elevation:"24",color:e.color,timeout:"2000",bottom:""},scopedSlots:e._u([{key:"action",fn:function(a){var t=a.attrs;return[s("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(a){e.snackbar1=!1}}},"v-btn",t,!1),[e._v(" Close")])]}}]),model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v(" "+e._s(e.error_message)+" ")]),s("v-snackbar",{attrs:{elevation:"24",color:e.color,dark:"",timeout:"2000"},scopedSlots:e._u([{key:"action",fn:function(a){var t=a.attrs;return[s("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(a){e.snackbar1=!1}}},"v-btn",t,!1),[e._v(" Close")])]}}]),model:{value:e.snackbar1,callback:function(a){e.snackbar1=a},expression:"snackbar1"}},[e._v(" "+e._s(e.response_message)+" ")])],1)},r=[],o={name:"AdminLogin",data(){return{user:new FormData,show3:!1,alertEmpty:!1,snackbar:!1,snackbar1:!1,form:{nama:"",email:"",password:"",id_dealer:"",nama_dealer:""},emailRules:[e=>!!e||"Email harus diisi"],passwordRules:[e=>!!e||"Password harus diisi"],dealerRules:[e=>!!e||"Dealer harus diisi"],dealer:[{id_dealer:"",nama_dealer:""}],response_message:"",error_message:""}},methods:{login(){this.$refs.form.validate()&&this.$http.post(this.$api+"/login",{email:this.form.email,password:this.form.password}).then((e=>{this.response_message=e.data.message,localStorage.setItem("nama",e.data.data.nama),localStorage.setItem("token",e.data.access_token),localStorage.setItem("dealer",this.form.id_dealer);for(let a=0;a<this.dealer.length;a++)console.log(this.dealer.length),this.dealer[a].id_dealer===this.form.id_dealer&&localStorage.setItem("nama_dealer",this.dealer[a].nama_dealer);console.log(localStorage.getItem("nama_dealer")),this.snackbar1=!0,this.color="secondary",this.$router.push({name:"BookingDashboard"})})).catch((e=>{this.error_message=e.response.data.message,this.snackbar=!0,this.color="warning",localStorage.removeItem("token")}))},resetForm(){this.form={nama:"",email:"",password:"",dealer:""}},getDataDealer(){var e=this.$api+"/dealer";this.$http.get(e,{headers:{}}).then((e=>{this.dealer=e.data.data}))}},mounted(){this.getDataDealer()}},l=o,n=t(1001),i=(0,n.Z)(l,s,r,!1,null,"386212b7",null),d=i.exports},8294:function(e,a,t){e.exports=t.p+"img/honda-logo.122277f2.png"}}]);
//# sourceMappingURL=372.f12b86b0.js.map