"use strict";(self["webpackChunkhonda_booking_online"]=self["webpackChunkhonda_booking_online"]||[]).push([[729],{4729:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var r=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("v-app",[r("v-app-bar",{attrs:{app:"",height:"80"},scopedSlots:e._u([{key:"extension",fn:function(){return[r("v-tabs",{attrs:{"align-with-title":""},model:{value:e.active_tab,callback:function(a){e.active_tab=a},expression:"active_tab"}},e._l(e.tabs,(function(a){return r("v-tab",{key:a.name,attrs:{to:{name:a.name}}},[e._v(" "+e._s(a.text)+" ")])})),1)]},proxy:!0}])},[r("v-toolbar-title",[r("img",{staticClass:"mt-2 hidden-sm-and-down",attrs:{src:t(8294),height:"50px",contain:""}}),r("img",{staticClass:"mt-1 hidden-md-and-up",attrs:{src:t(8294),height:"20px",contain:""}})]),r("v-toolbar-title",[r("img",{staticClass:"mt-2 mx-3 hidden-sm-and-down",attrs:{src:t(6175),height:"50px",contain:""}}),r("img",{staticClass:"mt-1 mx-3 hidden-md-and-up",attrs:{src:t(6175),height:"30px",contain:""}})]),r("v-toolbar-title",{staticClass:"ml-4 hidden-sm-and-down"},[e._v("Booking Service ")]),r("v-toolbar-title",{staticClass:"ml-5 hidden-md-and-up"},[e._v("Booking Service")]),r("v-spacer"),r("v-toolbar-title",[e._v("Welcome, "),r("strong",[e._v(e._s(e.getUser()))]),e._v("! ")]),r("v-spacer"),r("v-btn",{attrs:{color:"error"},on:{click:e.logout}},[e._v("Logout")])],1),[r("v-card",{staticClass:"mx-6 mt-6"},[r("v-toolbar",{attrs:{color:"secondary",dark:""}},[r("h3",[e._v("Dealer Dashboard")])]),r("v-card-title",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}}),r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(a){e.addDealerDialog=!0}}},[e._v("Tambah Dealer")])],1),r("v-data-table",{attrs:{headers:e.headers,items:e.dealers,search:e.search,light:""},scopedSlots:e._u([{key:"item.actions",fn:function(a){var t=a.item;return[r("v-chip",[r("v-icon",{attrs:{color:"primary"},on:{click:function(a){return e.editHandler(t)}}},[e._v("mdi-pencil")])],1),r("v-chip",[r("v-icon",{attrs:{color:"red"},on:{click:function(a){return e.deleteHandler(t.id_dealer)}}},[e._v("mdi-delete")])],1)]}}],null,!0)})],1)],[r("v-dialog",{attrs:{"max-width":"600","content-class":"add-dealer-dialog"},model:{value:e.addDealerDialog,callback:function(a){e.addDealerDialog=a},expression:"addDealerDialog"}},[r("v-card",[r("v-toolbar",{attrs:{color:"secondary",dark:""}},[r("h2",[e._v("Tambah Dealer")])]),r("v-form",{ref:"form",staticClass:"mx-5 my-5",model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.fieldRules,label:"Kode Dealer",hint:"HSB","prepend-inner-icon":"mdi-identifier",outlined:"",required:""},model:{value:e.form.kode_dealer,callback:function(a){e.$set(e.form,"kode_dealer",a)},expression:"form.kode_dealer"}}),r("v-text-field",{attrs:{rules:e.fieledRules,label:"Nama Dealer",hint:"Honda Solo Baru","prepend-inner-icon":"mdi-store",outlined:"",required:""},model:{value:e.form.nama_dealer,callback:function(a){e.$set(e.form,"nama_dealer",a)},expression:"form.nama_dealer"}}),r("v-text-field",{attrs:{rules:e.fieledRules,label:"Alamat",hint:"Jalan Lorem Ipsum","prepend-inner-icon":"mdi-map-marker",outlined:"",required:""},model:{value:e.form.alamat_dealer,callback:function(a){e.$set(e.form,"alamat_dealer",a)},expression:"form.alamat_dealer"}})],1),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Close")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.validate}},[e._v("Simpan")])],1)],1)],1)],[r("v-dialog",{attrs:{"max-width":"600","content-class":"edit-status-dialog"},model:{value:e.editDealerDialog,callback:function(a){e.editDealerDialog=a},expression:"editDealerDialog"}},[r("v-card",[r("v-toolbar",{attrs:{color:"secondary",dark:""}},[r("h2",[e._v("Edit Dealer")])]),r("v-form",{ref:"form1",staticClass:"mx-5 my-5",model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.fieldRules,label:"Kode Dealer",hint:"HSB","prepend-inner-icon":"mdi-identifier",outlined:"",required:""},model:{value:e.form.kode_dealer,callback:function(a){e.$set(e.form,"kode_dealer",a)},expression:"form.kode_dealer"}}),r("v-text-field",{attrs:{rules:e.fieledRules,label:"Nama Dealer",hint:"Honda Solo Baru","prepend-inner-icon":"mdi-store",outlined:"",required:""},model:{value:e.form.nama_dealer,callback:function(a){e.$set(e.form,"nama_dealer",a)},expression:"form.nama_dealer"}}),r("v-text-field",{attrs:{rules:e.fieledRules,label:"Alamat",hint:"Jalan Lorem Ipsum","prepend-inner-icon":"mdi-map-marker",outlined:"",required:""},model:{value:e.form.alamat_dealer,callback:function(a){e.$set(e.form,"alamat_dealer",a)},expression:"form.alamat_dealer"}})],1),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{text:""},on:{click:e.close1}},[e._v("Close")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.validate2}},[e._v("Simpan")])],1)],1)],1)],[r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogConfirm,callback:function(a){e.dialogConfirm=a},expression:"dialogConfirm"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Warning!")])]),r("v-card-text",[e._v("Apakah Anda yakin ingin menghapus dealer ini?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close2}},[e._v("Batal")]),r("v-btn",{attrs:{color:"error",text:""},on:{click:e.deleteData}},[e._v("Hapus")])],1)],1)],1)],r("v-snackbar",{attrs:{elevation:"24",color:e.color,timeout:"5000",bottom:""},scopedSlots:e._u([{key:"action",fn:function(a){var t=a.attrs;return[r("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(a){e.snackbar1=!1}}},"v-btn",t,!1),[e._v(" Close")])]}}]),model:{value:e.snackbar1,callback:function(a){e.snackbar1=a},expression:"snackbar1"}},[r("v-layout",{attrs:{"align-center":"","pr-4":""}},[r("v-icon",{staticClass:"pr-3",attrs:{dark:"",large:""}},[e._v(e._s(e.icon_message))]),r("v-layout",{attrs:{column:""}},[r("div",[r("strong",[e._v(e._s(e.title_message))])]),r("div",[e._v(e._s(e.response_message))])])],1)],1),r("v-snackbar",{attrs:{color:e.color,timeout:"2000",bottom:""},scopedSlots:e._u([{key:"action",fn:function(a){var t=a.attrs;return[r("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(a){e.snackbar=!1}}},"v-btn",t,!1),[e._v(" Close")])]}}]),model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[r("v-layout",{attrs:{"align-center":"","pr-4":""}},[r("v-icon",{staticClass:"pr-3",attrs:{dark:"",large:""}},[e._v(e._s(e.icon_message))]),r("v-layout",{attrs:{column:""}},[r("div",[r("strong",[e._v(e._s(e.title_message))])]),r("div",[e._v(e._s(e.error_message))])])],1)],1)],2)},s=[],l={name:"DealerDashboard",data(){return{activeTab:"",tabs:[{name:"UserDashboard",text:"User",align:"center"},{name:"WhatsappDashboard",text:"Whatsapp",align:"center"},{name:"DealerDashboard",text:"Dealer",align:"center"},{name:"KendaraanDashboard",text:"Kendaraan",align:"center"}],addDealerDialog:!1,editDealerDialog:!1,dialogConfirm:!1,snackbar:!1,snackbar1:!1,valid:"",editId:"",dealers:[],search:null,color:"",icon_message:"",title_message:"",response_message:"",error_message:"",show3:"",newData:new FormData,form:{kode_dealer:"",nama_dealer:"",alamat_dealer:""},fieldRules:[e=>!!e||"Field harus diisi"],headers:[{text:"Kode Dealer",value:"kode_dealer",align:"center"},{text:"Nama Dealer",value:"nama_dealer",align:"center"},{text:"Alamat",value:"alamat_dealer",align:"center"},{text:"Actions",value:"actions",align:"center"}]}},methods:{validate(){this.$refs.form.validate()&&this.saveData()},validate2(){this.$refs.form1.validate()&&this.updateData()},saveData(){this.newData.append("kode_dealer",this.form.kode_dealer),this.newData.append("nama_dealer",this.form.nama_dealer),this.newData.append("alamat_dealer",this.form.alamat_dealer),this.$http.post(this.$api+"/dealer",this.newData,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{this.response_message=e.data.message,this.color="blue-grey darken-1",this.snackbar1=!0,this.icon_message="mdi-check-decagram",this.title_message="Success",this.close(),this.readData()})).catch((e=>{this.error_message=e.response.data.message,this.color="warning",this.snackbar=!0,this.icon_message="mdi-alert-decagram",this.title_message="Error"}))},updateData(){this.newData.append("kode_dealer",this.form.kode_dealer),this.newData.append("nama_dealer",this.form.nama_dealer),this.newData.append("alamat_dealer",this.form.alamat_dealer);var e=this.$api+"/dealer/"+this.editId;this.$http.post(e,this.newData,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{this.response_message=e.data.message,this.color="blue-grey darken-1",this.snackbar1=!0,this.icon_message="mdi-check-decagram",this.title_message="Success",this.close1(),this.readData()})).catch((e=>{this.error_message=e.response.data.message,this.color="warning",this.snackbar=!0,this.icon_message="mdi-alert-decagram",this.title_message="Error"}))},deleteData(){var e=this.$api+"/dealer/"+this.deleteId;this.$http.delete(e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{this.response_message=e.data.message,this.color="blue-grey darken-1",this.snackbar1=!0,this.icon_message="mdi-check-decagram",this.title_message="Success",this.close2(),this.readData()})).catch((e=>{this.error_message=e.response.data.message,this.color="warning",this.snackbar=!0,this.icon_message="mdi-alert-decagram",this.title_message="Error",this.load=!1}))},readData(){var e=this.$api+"/dealer";this.$http.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{this.dealers=e.data.data}))},getUser(){return localStorage.getItem("nama")},logout(){localStorage.removeItem("nama"),localStorage.removeItem("token"),localStorage.removeItem("role"),this.$router.push({name:"ITLogin"})},editHandler(e){this.editId=e.id_dealer,this.form.kode_dealer=e.kode_dealer,this.form.nama_dealer=e.nama_dealer,this.form.alamat_dealer=e.alamat_dealer,this.editDealerDialog=!0},deleteHandler(e){this.deleteId=e,this.dialogConfirm=!0},close(){this.addDealerDialog=!1,this.$refs.form.reset()},close1(){this.editDealerDialog=!1,this.$refs.form1.reset()},close2(){this.dialogConfirm=!1}},mounted(){this.readData()},created(){this.interval=setInterval(this.readData,5e3)},beforeDestroy(){clearInterval(this.interval)}},i=l,o=t(1001),n=(0,o.Z)(i,r,s,!1,null,"2c4c39c3",null),d=n.exports},6175:function(e,a,t){e.exports=t.p+"img/bintang-group-logo.9c3a682e.png"},8294:function(e,a,t){e.exports=t.p+"img/honda-logo.122277f2.png"}}]);
//# sourceMappingURL=729.b0ce9d33.js.map