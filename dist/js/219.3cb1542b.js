"use strict";(self["webpackChunkhonda_booking_online"]=self["webpackChunkhonda_booking_online"]||[]).push([[219],{1219:function(a,e,t){t.r(e),t.d(e,{default:function(){return d}});var r=function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",height:"80"},scopedSlots:a._u([{key:"extension",fn:function(){return[r("v-tabs",{attrs:{"align-with-title":""},model:{value:a.active_tab,callback:function(e){a.active_tab=e},expression:"active_tab"}},a._l(a.tabs,(function(e){return r("v-tab",{key:e.name,attrs:{to:{name:e.name}}},[a._v(" "+a._s(e.text)+" ")])})),1)]},proxy:!0}])},[r("v-toolbar-title",[r("img",{staticClass:"mt-2 hidden-sm-and-down",attrs:{src:t(8294),height:"50px",contain:""}}),r("img",{staticClass:"mt-1 hidden-md-and-up",attrs:{src:t(8294),height:"20px",contain:""}})]),r("v-toolbar-title",[r("img",{staticClass:"mt-2 mx-3 hidden-sm-and-down",attrs:{src:t(6175),height:"50px",contain:""}}),r("img",{staticClass:"mt-1 mx-3 hidden-md-and-up",attrs:{src:t(6175),height:"30px",contain:""}})]),r("v-toolbar-title",{staticClass:"ml-4 hidden-sm-and-down"},[a._v("Booking Service ")]),r("v-toolbar-title",{staticClass:"ml-5 hidden-md-and-up"},[a._v("Booking Service")]),r("v-spacer"),r("v-toolbar-title",[a._v("Welcome, "),r("strong",[a._v(a._s(a.getUser()))]),a._v("! ")]),r("v-spacer"),r("v-btn",{attrs:{color:"error"},on:{click:a.logout}},[a._v("Logout")])],1),[r("v-card",{staticClass:"mx-6 mt-6"},[r("v-toolbar",{attrs:{color:"secondary",dark:""}},[r("h3",[a._v("Kendaraan Dashboard")])]),r("v-card-title",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:a.search,callback:function(e){a.search=e},expression:"search"}}),r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){a.addKendaraanDialog=!0}}},[a._v("Tambah Kendaraan")])],1),r("v-data-table",{attrs:{headers:a.headers,items:a.kendaraans,search:a.search,light:""},scopedSlots:a._u([{key:"item.actions",fn:function(e){var t=e.item;return[r("v-chip",[r("v-icon",{attrs:{color:"primary"},on:{click:function(e){return a.editHandler(t)}}},[a._v("mdi-pencil")])],1),r("v-chip",[r("v-icon",{attrs:{color:"red"},on:{click:function(e){return a.deleteHandler(t.id_kendaraan)}}},[a._v("mdi-delete")])],1)]}}],null,!0)})],1)],[r("v-dialog",{attrs:{"max-width":"600","content-class":"add-kendaraan-dialog"},model:{value:a.addKendaraanDialog,callback:function(e){a.addKendaraanDialog=e},expression:"addKendaraanDialog"}},[r("v-card",[r("v-toolbar",{attrs:{color:"secondary",dark:""}},[r("h2",[a._v("Tambah Kendaraan")])]),r("v-form",{ref:"form",staticClass:"mx-5 my-5",model:{value:a.valid,callback:function(e){a.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{rules:a.fieldRules,label:"Model Kendaraan","prepend-inner-icon":"mdi-car",outlined:"",required:""},model:{value:a.form.model_kendaraan,callback:function(e){a.$set(a.form,"model_kendaraan",e)},expression:"form.model_kendaraan"}})],1),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{text:""},on:{click:a.close}},[a._v("Close")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:a.validate}},[a._v("Simpan")])],1)],1)],1)],[r("v-dialog",{attrs:{"max-width":"600","content-class":"edit-kendaraan-dialog"},model:{value:a.editKendaraanDialog,callback:function(e){a.editKendaraanDialog=e},expression:"editKendaraanDialog"}},[r("v-card",[r("v-toolbar",{attrs:{color:"secondary",dark:""}},[r("h2",[a._v("Edit Kendaraan")])]),r("v-form",{ref:"form1",staticClass:"mx-5 my-5",model:{value:a.valid,callback:function(e){a.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{rules:a.fieldRules,label:"Model Kendaraan","prepend-inner-icon":"mdi-car",outlined:"",required:""},model:{value:a.form.model_kendaraan,callback:function(e){a.$set(a.form,"model_kendaraan",e)},expression:"form.model_kendaraan"}})],1),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{text:""},on:{click:a.close1}},[a._v("Close")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:a.validate2}},[a._v("Simpan")])],1)],1)],1)],[r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:a.dialogConfirm,callback:function(e){a.dialogConfirm=e},expression:"dialogConfirm"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[a._v("Warning!")])]),r("v-card-text",[a._v("Apakah Anda yakin ingin menghapus kendaraan ini?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:a.close2}},[a._v("Batal")]),r("v-btn",{attrs:{color:"error",text:""},on:{click:a.deleteData}},[a._v("Hapus")])],1)],1)],1)],r("v-snackbar",{attrs:{elevation:"24",color:a.color,timeout:"5000",bottom:""},scopedSlots:a._u([{key:"action",fn:function(e){var t=e.attrs;return[r("v-btn",a._b({attrs:{color:"white",text:""},on:{click:function(e){a.snackbar1=!1}}},"v-btn",t,!1),[a._v(" Close")])]}}]),model:{value:a.snackbar1,callback:function(e){a.snackbar1=e},expression:"snackbar1"}},[r("v-layout",{attrs:{"align-center":"","pr-4":""}},[r("v-icon",{staticClass:"pr-3",attrs:{dark:"",large:""}},[a._v(a._s(a.icon_message))]),r("v-layout",{attrs:{column:""}},[r("div",[r("strong",[a._v(a._s(a.title_message))])]),r("div",[a._v(a._s(a.response_message))])])],1)],1),r("v-snackbar",{attrs:{color:a.color,timeout:"2000",bottom:""},scopedSlots:a._u([{key:"action",fn:function(e){var t=e.attrs;return[r("v-btn",a._b({attrs:{color:"white",text:""},on:{click:function(e){a.snackbar=!1}}},"v-btn",t,!1),[a._v(" Close")])]}}]),model:{value:a.snackbar,callback:function(e){a.snackbar=e},expression:"snackbar"}},[r("v-layout",{attrs:{"align-center":"","pr-4":""}},[r("v-icon",{staticClass:"pr-3",attrs:{dark:"",large:""}},[a._v(a._s(a.icon_message))]),r("v-layout",{attrs:{column:""}},[r("div",[r("strong",[a._v(a._s(a.title_message))])]),r("div",[a._v(a._s(a.error_message))])])],1)],1)],2)},s=[],n={name:"KendaraanDashboard",data(){return{activeTab:"",tabs:[{name:"UserDashboard",text:"User",align:"center"},{name:"WhatsappDashboard",text:"Whatsapp",align:"center"},{name:"DealerDashboard",text:"Dealer",align:"center"},{name:"KendaraanDashboard",text:"Kendaraan",align:"center"}],addKendaraanDialog:!1,editKendaraanDialog:!1,dialogConfirm:!1,snackbar:!1,snackbar1:!1,valid:"",editId:"",kendaraans:[],search:null,color:"",icon_message:"",title_message:"",response_message:"",error_message:"",show3:"",newData:new FormData,form:{model_kendaraan:""},fieldRules:[a=>!!a||"Field harus diisi"],headers:[{text:"Model Kendaraan",value:"model_kendaraan",align:"center"},{text:"Actions",value:"actions",align:"center"}]}},methods:{validate(){this.$refs.form.validate()&&this.saveData()},validate2(){this.$refs.form1.validate()&&this.updateData()},saveData(){this.newData.append("model_kendaraan",this.form.model_kendaraan),this.$http.post(this.$api+"/kendaraan",this.newData,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((a=>{this.response_message=a.data.message,this.color="blue-grey darken-1",this.snackbar1=!0,this.icon_message="mdi-check-decagram",this.title_message="Success",this.close(),this.readData()})).catch((a=>{this.error_message=a.response.data.message,this.color="warning",this.snackbar=!0,this.icon_message="mdi-alert-decagram",this.title_message="Error"}))},updateData(){this.newData.append("model_kendaraan",this.form.model_kendaraan);var a=this.$api+"/kendaraan/"+this.editId;this.$http.post(a,this.newData,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((a=>{this.response_message=a.data.message,this.color="blue-grey darken-1",this.snackbar1=!0,this.icon_message="mdi-check-decagram",this.title_message="Success",this.close1(),this.readData()})).catch((a=>{this.error_message=a.response.data.message,this.color="warning",this.snackbar=!0,this.icon_message="mdi-alert-decagram",this.title_message="Error"}))},deleteData(){var a=this.$api+"/kendaraan/"+this.deleteId;this.$http.delete(a,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((a=>{this.response_message=a.data.message,this.color="blue-grey darken-1",this.snackbar1=!0,this.icon_message="mdi-check-decagram",this.title_message="Success",this.close2(),this.readData()})).catch((a=>{this.error_message=a.response.data.message,this.color="warning",this.snackbar=!0,this.icon_message="mdi-alert-decagram",this.title_message="Error",this.load=!1}))},readData(){var a=this.$api+"/kendaraan";this.$http.get(a,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((a=>{this.kendaraans=a.data.data}))},getUser(){return localStorage.getItem("nama")},logout(){localStorage.removeItem("nama"),localStorage.removeItem("token"),localStorage.removeItem("role"),this.$router.push({name:"ITLogin"})},editHandler(a){this.editId=a.id_kendaraan,this.form.model_kendaraan=a.model_kendaraan,this.editKendaraanDialog=!0},deleteHandler(a){this.deleteId=a,this.dialogConfirm=!0},close(){this.addKendaraanDialog=!1,this.$refs.form.reset()},close1(){this.editKendaraanDialog=!1,this.$refs.form1.reset()},close2(){this.dialogConfirm=!1}},mounted(){this.readData()},created(){this.interval=setInterval(this.readData,5e3)},beforeDestroy(){clearInterval(this.interval)}},i=n,o=t(1001),l=(0,o.Z)(i,r,s,!1,null,"13102b8e",null),d=l.exports},6175:function(a,e,t){a.exports=t.p+"img/bintang-group-logo.9c3a682e.png"},8294:function(a,e,t){a.exports=t.p+"img/honda-logo.122277f2.png"}}]);
//# sourceMappingURL=219.3cb1542b.js.map