"use strict";(self["webpackChunkhonda_booking_online"]=self["webpackChunkhonda_booking_online"]||[]).push([[326],{5326:function(a,e,t){t.r(e),t.d(e,{default:function(){return c}});var o=function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("v-app",[o("v-app-bar",{attrs:{app:"",height:"80"}},[o("v-toolbar-title",[o("img",{staticClass:"mt-2 hidden-sm-and-down",attrs:{src:t(8294),height:"50px",contain:""}}),o("img",{staticClass:"mt-1 hidden-md-and-up",attrs:{src:t(8294),height:"20px",contain:""}})]),o("v-toolbar-title",{staticClass:"ml-4 hidden-sm-and-down"},[a._v("Booking Service")]),o("v-toolbar-title",{staticClass:"ml-5 hidden-md-and-up"},[a._v("Booking Service")]),o("v-spacer"),o("v-toolbar-title",[a._v("Welcome ")])],1),o("v-container",{staticClass:"custom-container",attrs:{fluid:"","fill-height":""}},[o("v-layout",{attrs:{flex:"","align-center":"","justify-center":""}},[o("v-flex",{attrs:{xs12:"",sm6:"","elevation-6":""}},[o("v-card",[o("v-toolbar",{attrs:{color:"secondary",dark:""}},[o("h2",[a._v("Login IT")])]),o("v-form",{ref:"form",staticClass:"mx-5 my-5",model:{value:a.valid,callback:function(e){a.valid=e},expression:"valid"}},[o("v-text-field",{attrs:{rules:a.emailRules,label:"Email",hint:"username@email.com","prepend-inner-icon":"mdi-account",outlined:"",required:""},model:{value:a.form.email,callback:function(e){a.$set(a.form,"email",e)},expression:"form.email"}}),o("v-text-field",{attrs:{"append-icon":a.show3?"mdi-eye":"mdi-eye-off",type:a.show3?"text":"password",rules:a.passwordRules,label:"Password","prepend-inner-icon":"mdi-lock",outlined:"",required:""},on:{"click:append":function(e){a.show3=!a.show3}},model:{value:a.form.password,callback:function(e){a.$set(a.form,"password",e)},expression:"form.password"}})],1),o("v-card-actions",{staticClass:"justify-end"},[o("v-btn",{attrs:{text:"",color:"primary"},on:{click:a.login}},[a._v("Login")]),o("v-btn",{attrs:{text:""},on:{click:a.resetForm}},[a._v("Batal")])],1)],1)],1)],1)],1),o("v-snackbar",{attrs:{elevation:"24",color:a.color,timeout:"2000",bottom:""},scopedSlots:a._u([{key:"action",fn:function(e){var t=e.attrs;return[o("v-btn",a._b({attrs:{color:"white",text:""},on:{click:function(e){a.snackbar1=!1}}},"v-btn",t,!1),[a._v(" Close")])]}}]),model:{value:a.snackbar,callback:function(e){a.snackbar=e},expression:"snackbar"}},[a._v(" "+a._s(a.error_message)+" ")]),o("v-snackbar",{attrs:{elevation:"24",color:a.color,dark:"",timeout:"2000"},scopedSlots:a._u([{key:"action",fn:function(e){var t=e.attrs;return[o("v-btn",a._b({attrs:{color:"white",text:""},on:{click:function(e){a.snackbar1=!1}}},"v-btn",t,!1),[a._v(" Close")])]}}]),model:{value:a.snackbar1,callback:function(e){a.snackbar1=e},expression:"snackbar1"}},[a._v(" "+a._s(a.response_message)+" ")]),o("v-snackbar",{attrs:{elevation:"24",color:a.color,dark:"",timeout:"2000"},scopedSlots:a._u([{key:"action",fn:function(e){var t=e.attrs;return[o("v-btn",a._b({attrs:{color:"white",text:""},on:{click:function(e){a.snackbar1=!1}}},"v-btn",t,!1),[a._v(" Close")])]}}]),model:{value:a.snackbar2,callback:function(e){a.snackbar2=e},expression:"snackbar2"}},[a._v(" "+a._s(a.no_access_message)+" ")])],1)},s=[],r={name:"ITLogin",data(){return{user:new FormData,show3:!1,alertEmpty:!1,snackbar:!1,snackbar1:!1,snackbar2:!1,role:1,form:{nama:"",email:"",password:"",id_dealer:"",nama_dealer:""},emailRules:[a=>!!a||"Email harus diisi"],passwordRules:[a=>!!a||"Password harus diisi"],response_message:"",error_message:""}},methods:{login(){this.$refs.form.validate()&&this.$http.post(this.$api+"/login",{email:this.form.email,password:this.form.password}).then((a=>{localStorage.setItem("nama",a.data.data.nama),localStorage.setItem("token",a.data.access_token),localStorage.setItem("role",a.data.data.id_role),1==localStorage.getItem("role")?(this.response_message=a.data.message,this.snackbar1=!0,this.color="secondary",this.$router.push({name:"UserDashboard"})):1!=localStorage.getItem("role")&&(console.log(localStorage.getItem("role")),localStorage.removeItem("nama"),localStorage.removeItem("token"),localStorage.removeItem("role"),this.snackbar2=!0,this.color="warning",this.no_access_message="Anda tidak memiliki akses",setTimeout((function(){window.location.reload(1)}),3e3))})).catch((a=>{this.error_message=a.response.data.message,this.snackbar=!0,this.color="warning",localStorage.removeItem("token")}))},resetForm(){this.form={email:"",password:""}}}},n=r,l=t(1001),i=(0,l.Z)(n,o,s,!1,null,"660ab611",null),c=i.exports},8294:function(a,e,t){a.exports=t.p+"img/honda-logo.122277f2.png"}}]);
//# sourceMappingURL=326.b3d4a088.js.map